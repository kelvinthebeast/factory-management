extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug
block main
  h1 PRODUCTS MANAGEMENT PAGE

  .card.mb-3
    .card-header Bộ lọc và Tìm kiếm
    .card-body
      .row
        .col-6
          +filter-status(filterStatus)
        .col-6 
          +search(keyword)
          
  .container.mt-5
    h2.text-center.mb-4 Products List

    table.table.table-striped.table-bordered
      thead.table-dark
        tr
          th STT 
          th Image
          th Title
          th Price
          th Status
          th Actions
      tbody
        each item, index in products
          tr
            td #{index + 1}
            td
              img(src=item.thumbnail, alt=`Image of ${item.title}`, width="50", height="50")
            td #{item.title}
            td #{item.price}$
            td
              if (item.status === "active")
                a(href="#" class="btn btn-sm ml-1 btn-outline-success") Hoạt động
              else
                a(href="#" class="btn btn-sm ml-1 btn-outline-success") Dừng hoạt động
            td
              button.btn.btn-primary.btn-sm.mr-2(onclick=`editProduct(${item.id})`)  Edit  
              button.btn.btn-danger.btn-sm(onclick=`deleteProduct(${item.id})`) Delete

  nav
    ul.pagination
        if(pagination.currentPage > 1)
          li(class="page-item")
            button(class="page-link" button-pagination=pagination.currentPage - 1) Trang trước
          //- div #{pagination.currentPage} 
          - for (var i = 1; i <= pagination.totalPage; i++)
            li(class=`page-item ${pagination.currentPage == i ? "active" : ""}`)
              button(class='page-link' button-pagination=i) #{i}
        
          if(pagination.currentPage < pagination.totalPage)
            li(class="page-item")
                button(class="page-link" button-pagination=pagination.currentPage + 1) Kế tiếp